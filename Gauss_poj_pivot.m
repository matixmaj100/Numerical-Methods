clc
clear all
close all
A = [7 5 8 -5 4 -1 -10;
 -4 6 3 -4 -3 -7 9;
 -1 8 6 8 -7 -8 10;
 -4 8 6 0 1 7 -5;
 1 10 9 -1 -6 2 8;
 -3 5 -1 0 -5 0 5;
 -9 10 3 -4 -8 6 10];
b=[75 -17 -150 103 31 -28 89]' ;


A1= [60 10 -1.8 6.8 -6.9 7.3 -4;
 -4.3 -83 -8 2.3 -1.2 -1.4 5.7;
 -8.3 -9.6 10 4.6 3.3 9.2 5.6;
 -7.6 4.3 -4.1 -14 8.6 -7 8.5;
 -6.3 0.8 -4.5 -0.3 31 0.9 -4.7;
 4 2.4 -0.2 -2.4 -2.1 42 -9.5;
 5.9 -3 -1 6.9 -3.8 -5.1 59];
b1=[411.7 -56.7 -168 -134 -44.9 174 -354.6]';

A2=[7 -2 0 -1 0 0 -1;
 -1 5 -1 0 -1 -1 0;
 -1 -2 4 0 -1 -2 1;
 -1 1 0 1 0 1 -1;
 -1 0 -1 0 4 -2 0;
 -1 1 -1 -1 -1 5 -1;
 -1 -1 -1 0 0 0 4];
b2=[32 -41 -2 9 -10 32 -24]';


x=gauss(A2,b2);
%funkcja
function [x] = gauss(A, b)
n = length(b);
x = zeros(n,1);
for k = 1:n-1
if A(k,k) == 0
pause;
end
[~,i] = max(abs(A(k:n,k)));
i = i + k - 1;
A([k i],k:n) = A([i k],k:n);
b([k i]) = b([i k]);
for j = k+1:n
m = A(j,k)/A(k,k);
A(j,k:n) = A(j,k:n) - m*A(k,k:n);
b(j) = b(j) - m*b(k);
end
end
x(n) = b(n)/A(n,n);
for k = n-1:-1:1
    x(k) = (b(k) - A(k,k+1:n)*x(k+1:n))/A(k,k);
end
end